import { ScrollView, StyleSheet, Text, View } from 'react-native';
import { SafeAreaView } from 'react-native-safe-area-context';

import { BackButton } from '@/components/BackButton';
import { safeBack } from '@/lib/navigation';

const LEGAL_BODY = `עודכן לאחרונה: ________
מפעיל השירות: "STAMPIX" (שם זמני) - פרטים משפטיים מלאים יתווספו לפני השקה מסחרית.

מסמך זה כולל: תנאי שימוש, מדיניות פרטיות, מדיניות שיווק ודיוור, מדיניות עוגיות (לאתר עתידי), תנאי תשלום לעסקים, ועקרונות תקנון מבצעים.

השימוש באפליקציה ובשירותים מהווה הסכמה למסמך זה. אם אינך מסכים - אין להשתמש בשירות.

1. הגדרות
"השירות" - אפליקציית STAMPIX, רכיבי ווב/אתר עתידיים, ממשקי ניהול וכל רכיב קשור.
"משתמש" - כל מי שעושה שימוש בשירות.
"לקוח" - משתמש קצה המחזיק כרטיסיות נאמנות.
"עסק" - בעל עסק, מנהל/ת, עובד/ת או מי שפועל מטעם עסק.
"תוכן עסקי" - מידע שהעסק מזין: מבצעים, פרסים, תנאים, טקסטים, תמונות וכו'.
"נתונים" - כל מידע שנאסף או נוצר במסגרת השימוש, לרבות סריקות, ניקובים, מזהים טכניים, לוגים וסטטיסטיקות.
"שיווק" - דיוור והודעות שיווקיות בכל ערוץ, כולל הודעות Push, אימייל, SMS, WhatsApp וערוצים נוספים.

2. מהות השירות ותפקיד הפלטפורמה
השירות מאפשר לעסקים להפעיל תוכניות נאמנות דיגיטליות, ולעזור ללקוחות לצבור ניקובים/נקודות ולממש הטבות.
הפלטפורמה היא ספקית טכנולוגיה בלבד ואינה צד לעסקה בין העסק ללקוח. העסק אחראי לקיום ההטבות, לתנאי המבצעים, למחירים ולשירות הלקוחות.

3. הרשמה, חשבון ואבטחה
3.1 כדי להשתמש בשירות ייתכן שתידרש הרשמה ואימות (למשל מייל/טלפון וקוד).
3.2 המשתמש מתחייב למסור פרטים נכונים ומעודכנים.
3.3 המשתמש אחראי לכל פעולה בחשבונו ולשמירה על אמצעי הגישה.
3.4 הפלטפורמה רשאית להשעות/לחסום/למחוק חשבון במקרה של הפרה, שימוש לרעה, חשד להונאה או דרישת דין.

4. הרשאות מכשיר - מצלמה וסריקת QR
4.1 כדי לאפשר סריקת QR ייתכן שהאפליקציה תבקש הרשאת מצלמה. ללא הרשאה זו, יכולת הסריקה עשויה לא לפעול.
4.2 האפליקציה משתמשת במצלמה לצורך סריקת קוד QR בלבד.
4.3 ככלל, האפליקציה אינה שומרת תמונות מהמצלמה לצורך הסריקה, אלא אם תתווסף פונקציה מפורשת שמבהירה זאת למשתמש (למשל העלאת תמונה), ואז תוצג הודעה והסכמה נפרדת.

5. התראות Push והרשאות התראות
5.1 האפליקציה עשויה לבקש הרשאה לשליחת התראות Push.
5.2 התראות יכולות להיות שירותיות (למשל עדכוני מערכת, אבטחה, פעולות בחשבון) וגם שיווקיות, בכפוף להסכמה לפי דין.
5.3 ניתן לבטל התראות בהגדרות המכשיר, ובמקרים מסוימים גם בתוך האפליקציה.

6. כללי שימוש ואיסורים
אסור לבצע הונאה או מניפולציה של ניקובים/מימושים, לרבות יצירת חשבונות פיקטיביים.
אסור לבצע שימוש אוטומטי לא מורשה, ניסיונות עקיפה של מנגנוני תשלום/אבטחה.
אסור להעלות תוכן בלתי חוקי, פוגעני, מטעה או מפר זכויות/פרטיות.
אסור לבצע הנדסה לאחור, פירוק, העתקה או שכפול של השירות.
הפלטפורמה רשאית לשמור לוגים, לבצע בדיקות אבטחה ולנקוט צעדים לפי שיקול דעתה.

7. כרטיסיות, ניקובים, פרסים ומבצעים
7.1 תנאי הצבירה והמימוש נקבעים על ידי העסק בלבד.
7.2 העסק רשאי לשנות תנאים או להפסיק מבצע בכפוף לדין החל עליו.
7.3 הפלטפורמה אינה אחראית לאי מתן הטבה, אי כיבוד מבצע, סגירת עסק או מחלוקת עסק-לקוח.
7.4 במקרה של תקלה או אי התאמה בנתונים, הפלטפורמה רשאית לתקן נתונים בהתבסס על לוגים, ובתיאום עם העסק ככל שנדרש.

8. תנאים ייחודיים לעסקים
8.1 העסק אחראי לתוכן העסקי, לחוקיותו ולבהירותו ללקוח, לרבות דיני הגנת הצרכן ודיני פרסום.
8.2 העסק אחראי להכשרת עובדים ושימוש נכון בסריקות.
8.3 העסק מתחייב לא לבצע "ניקובים" או מימושים פיקטיביים, ולא לאפשר לעובדים לבצע חריגות.

9. תשלומים, מסלולים והחזרים לעסקים
9.1 מסלולים ותכולתם יוצגו באפליקציה/אתר.
9.2 חיובים יתבצעו מראש במחזור חודשי/שנתי באמצעות ספק סליקה צד ג'.
9.3 אי תשלום עשוי לגרור הגבלה, השעיה או סיום שירות לעסק.
9.4 החזרים:
תשלום עבור תקופת חיוב אינו ניתן להחזר באופן יחסי לאחר תחילתה, אלא אם הדין מחייב אחרת או אם צוין אחרת בהצעה מסחרית.
חיוב שגוי מוכח יזוכה או יוחזר בהתאם לבדיקה.

פרטיות, נתונים ושיווק
10. מידע שנאסף
הפלטפורמה אוספת מידע לצורך הפעלת השירות, אבטחה, תמיכה ושיפור.
דוגמאות למידע אפשרי:
פרטי חשבון: שם, טלפון/מייל, מזהים פנימיים.
נתוני נאמנות: סריקות QR, ניקובים, מימושים, מזהי עסק/סניף/קמפיין.
נתוני שימוש טכניים: סוג מכשיר, מערכת הפעלה, לוגים, קריסות, כתובת IP בקירוב.
נתוני תקשורת: פניות לתמיכה.
תוכן עסקי שמוזן על ידי עסקים.

11. מטרות שימוש במידע
המידע משמש ל:
הפעלת השירות ומתן תמיכה.
אבטחה, מניעת הונאות ואכיפת תנאים.
ניתוחים סטטיסטיים ושיפור מוצר.
הודעות שירותיות.
שיווק ודיוור - בכפוף להסכמות הנדרשות לפי דין.

12. שיווק ודיוור בכל הערוצים
12.1 הפלטפורמה ו/או עסקים עשויים לשלוח הודעות שיווקיות בערוצים שונים: Push, אימייל, SMS, WhatsApp ועוד.
12.2 משתמש יכול להסיר את עצמו מהודעות שיווקיות בהתאם למנגנוני ההסרה בערוץ הרלוונטי (למשל "הסר" במייל, STOP ב-SMS אם קיים, כיבוי פושים בהגדרות, או מסך העדפות באפליקציה ככל שיוגדר).
12.3 הודעות שירותיות ואבטחתיות (למשל שינוי סיסמה, אימות, הודעת אבטחה) עשויות להישלח גם אם המשתמש ביטל שיווק, ככל שהדין מאפשר.

13. שיתוף מידע עם צדדים שלישיים
הפלטפורמה עשויה לשתף מידע עם:
ספקי תשתית (אחסון, ניטור תקלות, אנליטיקה, דיוור, סליקה).
דרישות חוק/צו/הליך משפטי.
הגנה מפני הונאות ואבטחה.
העברת פעילות במקרה של מיזוג/רכישה.
הפלטפורמה אינה מוכרת מידע אישי לצדדים שלישיים לצורכי פרסום שלהם.

14. שמירת מידע ומחיקה
14.1 מידע יישמר כל עוד נדרש לתפעול השירות, עמידה בדין, אבטחה, תיעוד מחלוקות ומניעת הונאה.
14.2 ניתן לבקש מחיקת חשבון דרך האפליקציה או התמיכה. מחיקה עשויה להיות חלקית אם נדרש לשמור מידע מטעמי חוק/אבטחה/מניעת הונאה.
14.3 מידע מצרפי/אנונימי עשוי להישמר ללא מגבלת זמן.

15. עוגיות וטכנולוגיות דומות - אתר עתידי
ככל שיופעל אתר, ייתכן שימוש בעוגיות/פיקסלים לצורך תפקוד, אבטחה, מדידה ושיווק. במקרה כזה תוצג הודעת עוגיות באתר והעדפות, בהתאם לדין ולפרקטיקה המקובלת.

16. עיבוד מידע לעסקים
כאשר עסק מפעיל תוכנית נאמנות, ייתכן שהוא אחראי על השימוש בנתוני לקוחותיו, והפלטפורמה משמשת כספק טכנולוגי המעבד מידע לצורך מתן השירות.
העסק מתחייב שיש לו בסיס חוקי לאיסוף ושימוש בנתונים, לרבות דיוור, ככל שהוא מבוצע על ידו.

17. קניין רוחני
כל הזכויות בשירות שייכות למפעיל הפלטפורמה או לבעלי הרישיון שלה.
העסק שומר על זכויותיו בתוכן העסקי, אך נותן רישיון להציגו ולהשתמש בו לצורך מתן השירות ללקוחות.

18. אחריות והגבלת אחריות
18.1 השירות ניתן כפי שהוא, ללא התחייבות לזמינות רציפה או התאמה מלאה לצורך מסוים.
18.2 הפלטפורמה לא תישא באחריות לנזק עקיף, אובדן רווחים, אובדן נתונים או פגיעה במוניטין.
18.3 אחריות מצטברת מוגבלת לסכום ששולם בפועל על ידי העסק ב-3 החודשים שקדמו לאירוע, ואם לא שולם דבר - 100 ₪ (ניתן לשנות לפני השקה).

19. סיום השירות
המשתמש רשאי להפסיק שימוש בכל עת. הפלטפורמה רשאית להשעות או לסיים שירות במקרה של הפרה, חשד להונאה או לפי שיקול דעתה, בכפוף לדין.

20. שינויים במסמך
המסמך עשוי להתעדכן מעת לעת. תאריך העדכון יופיע בראשו. המשך שימוש לאחר עדכון מהווה הסכמה לתנאים המעודכנים.

21. דין וסמכות שיפוט
הדין החל: מדינת ישראל.
סמכות שיפוט: בתי המשפט המוסמכים במחוז ________.

22. נספח - עקרונות תקנון מבצע לעסק
כל מבצע/הטבה חייב לכלול:
תיאור ההטבה.
תנאי צבירה.
תנאי מימוש.
תוקף ההטבה.
חריגים וסייגים.
האם ניתן לשלב מבצעים.
העסק אחראי לכך שהתנאים מוצגים ללקוח בצורה ברורה.

23. פרטי קשר
תמיכה: ________
פרטיות: ________ (אפשר אותו אימייל)
`;

export default function LegalScreen() {
  return (
    <SafeAreaView style={styles.container}>
      <View style={styles.header}>
        <BackButton onPress={() => safeBack('/(auth)/sign-up')} />
      </View>

      <ScrollView
        contentContainerStyle={styles.content}
        showsVerticalScrollIndicator={false}
      >
        <Text style={styles.title}>מסמך משפטי מרוכז - STAMPIX</Text>
        <Text style={styles.body}>{LEGAL_BODY}</Text>
      </ScrollView>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#F8F7F4',
  },
  header: {
    paddingHorizontal: 24,
    paddingTop: 8,
    alignItems: 'flex-end',
  },
  content: {
    paddingHorizontal: 24,
    paddingBottom: 32,
  },
  title: {
    fontSize: 22,
    fontWeight: '900',
    color: '#111827',
    textAlign: 'right',
    marginBottom: 12,
  },
  body: {
    fontSize: 13,
    color: '#111827',
    textAlign: 'right',
    lineHeight: 20,
  },
});
